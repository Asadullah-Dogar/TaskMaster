<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>Your Tasks</h1>
        <a href="/add" class="btn btn-primary mb-3">Add Task</a>

        <!-- Search Form -->
        <form class="mb-3" action="/search" method="get">
            <input type="text" name="query" placeholder="Search Tasks" class="form-control">
        </form>

        <!-- Task List -->
        {% for task in tasks %}
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">{{ task.title }}</h5>
                    <p class="card-text">{{ task.description }}</p>
                    <p class="card-text"><strong>Due Date:</strong> {{ task.due_date.strftime('%B %d, %Y') if task.due_date else 'No due date' }}</p>
                    <p class="card-text"><strong>Priority:</strong> {{ task.priority }}</p>
                    <p class="card-text"><strong>Category:</strong> {{ task.category }}</p>
                    <a href="/edit/{{ task.id }}" class="btn btn-warning">Edit</a>
                    <a href="/delete/{{ task.id }}" class="btn btn-danger">Delete</a>
                </div>
            </div>
        {% endfor %}
    </div>

</body>
</html>
